function create() {
    //  We need to enable physics on the player and set world bounds
    game.world.setBounds(0, 0, 1600, 1600);
    game.physics.startSystem(Phaser.Physics.P2JS);

    //Tilemap and CollisionGroup
    map = game.add.tilemap('level');
    map.addTilesetImage('hyptosis_tile-art-batch-1','tiles');
    objectsCG = game.physics.p2.createCollisionGroup();
    wallsCG =  game.physics.p2.createCollisionGroup();
    playerCG = game.physics.p2.createCollisionGroup();
    walls = game.physics.p2.convertCollisionObjects(map, "collision",true);
    for(var wall in walls)
    {
	    walls[wall].setCollisionGroup(wallsCG);
	    walls[wall].collides(playerCG);
    }
    //  Our tiled scrolling background
    level = map.createLayer("background");
    level.fixedToCamera = true;
    level.resizeWorld();
    layer2 = map.createLayer("objects");
    layer2.resizeWorld();
    map.setCollisionBetween(1, 12);
    game.physics.p2.convertTilemap(map, level);

	  player = new Dude(myId);
	  playersList[myId] = player;
    console.log(player + 'created');
	  dude = player.dude;

    game.physics.p2.setBoundsToWorld(true, true, true, true, false);
    //camera system
    game.camera.setBoundsToWorld();
    game.camera.follow(player.dude);

    //controller system
    cursors = game.input.keyboard.createCursorKeys();

    //announce us as a new player
    playerjoin(myId);
}