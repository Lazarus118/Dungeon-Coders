function create() {
    //  We need to enable physics on the player and set world bounds
    game.world.setBounds(0, 0, 1600, 1600);
    game.physics.startSystem(Phaser.Physics.P2JS);

    //Tilemap and CollisionGroup
    map = game.add.tilemap('level');
    map.addTilesetImage('hyptosis_tile-art-batch-1','tiles1');
    map.addTilesetImage('hyptosis_tile-art-batch-2','tiles2');
    objectsCG = game.physics.p2.createCollisionGroup();
    wallsCG =  game.physics.p2.createCollisionGroup();
    playerCG = game.physics.p2.createCollisionGroup();
    walls = game.physics.p2.convertCollisionObjects(map, "collision", true);
    for(var wall in walls)
    {
	    walls[wall].setCollisionGroup(wallsCG);
	    walls[wall].collides(playerCG);
    }
    //  Our tiled scrolling background
    level = map.createLayer("background");
    level.fixedToCamera = true;
    level.resizeWorld();
    layer2 = map.createLayer("objects");
    layer2.resizeWorld();
    map.setCollisionBetween(1, 12);
    game.physics.p2.convertTilemap(map, level);
    //create the teleporters
    var shape = game.add.graphics(0, 0);  //init rect
    shape.beginFill(0xFFFF0B, 1)
    level1teleport = shape.drawRect(165,225,25,25);
    level1teleport = level1teleport.getBounds();

	  player = new Dude(myId);
	  playersList[myId] = player;
    console.log(player + 'created');
	  dude = player.dude;

    game.physics.p2.setBoundsToWorld(true, true, true, true, false);
    //camera system
    game.camera.setBoundsToWorld();
    game.camera.follow(player.dude);

    //announce us as a new player
    playerjoin(myId);


    //Instructions
    //bmpText = game.add.bitmapText(10, 100, 'carrier_command','Drag me around !',12);



}